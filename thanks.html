
<!DOCTYPE html><!-- This site was created in Webflow. https://www.webflow.com -->
<!-- Last Published: Wed Sep 08 2021 00:59:40 GMT+0000 (Coordinated Universal Time) -->
<html data-wf-domain="cms-web-share-example.webflow.io" data-wf-page="611043f05011bfd81b28a331" data-wf-site="611043f05011bffbc028a32d" data-wf-status="1" lang="en">
  <head>
    <meta charset="utf-8" />
    <title>CMS Web Share API Example</title>
    <meta content="This example show how to provide the Web Share API with data from WF cms collections!" name="description" />
    <meta content="CMS Web Share API Example" property="og:title" />
    <meta content="This example show how to provide the Web Share API with data from WF cms collections!" property="og:description" />
    <meta content="CMS Web Share API Example" property="twitter:title" />
    <meta content="This example show how to provide the Web Share API with data from WF cms collections!" property="twitter:description" />
    <meta property="og:type" content="website" />
    <meta content="summary_large_image" name="twitter:card" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <meta content="Webflow" name="generator" />
    
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous" />
    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
    <script type="text/javascript">
      WebFont.load({
        google: {
          families: ["Montserrat:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic"]
        }
      });
    </script>
    <script type="text/javascript">
      ! function(o, c) {
        var n = c.documentElement,
          t = " w-mod-";
        n.className += t + "js", ("ontouchstart" in o || o.DocumentTouch && c instanceof DocumentTouch) && (n.className += t + "touch")
      }(window, document);
    </script>
    <link href="https://uploads-ssl.webflow.com/img/favicon.ico" rel="shortcut icon" type="image/x-icon" />
    <link href="https://uploads-ssl.webflow.com/img/webclip.png" rel="apple-touch-icon" />
  </head>
  <body class="body">
    <h1>1</h1>
    <div class="w-container">
      <div class="w-dyn-list">
        <div role="list" class="w-dyn-items">
          <div role="listitem" class="w-dyn-item">
            <div class="item-wrapper item-container">
              <div class="div-block">
                <div class="text-wrapper">
                  <div class="text-block">Title:</div>
                  <div class="item-title">Snek Sauce</div>
                </div>
                <div class="text-wrapper">
                  <div class="text-block">Text:</div>
                  <div class="item-text">Where&#x27;s the sauce?</div>
                </div>
              </div>
              <div class="button-group"><a href="/recipe/snek-sauce" class="button item-url disabled w-button">Link</a><a href="#" class="button share-button w-button">share the recipe</a></div>
            </div>
          </div>
          <div role="listitem" class="w-dyn-item">
            <div class="item-wrapper item-container">
              <div class="div-block">
                <div class="text-wrapper">
                  <div class="text-block">Title:</div>
                  <div class="item-title">Pinecone Tartar</div>
                </div>
                <div class="text-wrapper">
                  <div class="text-block">Text:</div>
                  <div class="item-text">Crunchy and raunchy!</div>
                </div>
              </div>
              <div class="button-group"><a href="/recipe/pinecone-tartar" class="button item-url disabled w-button">Link</a><a href="#" class="button share-button w-button">share the recipe</a></div>
            </div>
          </div>
          <div role="listitem" class="w-dyn-item">
            <div class="item-wrapper item-container">
              <div class="div-block">
                <div class="text-wrapper">
                  <div class="text-block">Title:</div>
                  <div class="item-title">Bleached Broccoli</div>
                </div>
                <div class="text-wrapper">
                  <div class="text-block">Text:</div>
                  <div class="item-text">Additional bonus of white clean teeth!</div>
                </div>
              </div>
              <div class="button-group"><a href="/recipe/bleached-broccoli" class="button item-url disabled w-button">Link</a><a href="#" class="button share-button w-button">share the recipe</a></div>
            </div>
          </div>
          <div role="listitem" class="w-dyn-item">
            <div class="item-wrapper item-container">
              <div class="div-block">
                <div class="text-wrapper">
                  <div class="text-block">Title:</div>
                  <div class="item-title">Spageth Bolognia</div>
                </div>
                <div class="text-wrapper">
                  <div class="text-block">Text:</div>
                  <div class="item-text">Don&#x27;t touch the spageth!</div>
                </div>
              </div>
              <div class="button-group"><a href="/recipe/dont-toucha-my-spageth" class="button item-url disabled w-button">Link</a><a href="#" class="button share-button w-button">share the recipe</a></div>
            </div>
          </div>
          <div role="listitem" class="w-dyn-item">
            <div class="item-wrapper item-container">
              <div class="div-block">
                <div class="text-wrapper">
                  <div class="text-block">Title:</div>
                  <div class="item-title">Wednesday&#x27;s Froglegs </div>
                </div>
                <div class="text-wrapper">
                  <div class="text-block">Text:</div>
                  <div class="item-text">Now we only have Terry left :((</div>
                </div>
              </div>
              <div class="button-group"><a href="/recipe/ma-dudes" class="button item-url disabled w-button">Link</a><a href="#" class="button share-button w-button">share the recipe</a></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="custom-code w-embed w-script">
      <script>
        const shareButtons = document.querySelectorAll('.share-button')
        if (shareButtons.length) {
          shareButtons.forEach((shareButton) => {
            if (navigator.share) {
              shareButton.addEventListener('click', async (event) => {
                const itemContainer = event.target.closest('.item-container')
                const shareData = {}

                const itemTitle = findFirstChildByClass(itemContainer, 'item-title')
                if (itemTitle) {
                  shareData.title = 'WakeUp Cups'
                }

                const itemText = findFirstChildByClass(itemContainer, 'item-text')
                if (itemText) {
                  shareData.text = 'Check out the best alarm clock ever made'
                }

                const itemUrl = findFirstChildByClass(itemContainer, 'item-url')
                if (itemUrl) {
                  shareData.url = 'https://go.wakeupcups.com/prelaunch?utm_source=shareButton'
                } else {
                  shareData.url = 'https://go.wakeupcups.com/prelaunch?utm_source=shareButton'
                }

                try {
                  await navigator.share(shareData)
                } catch (err) {
                  console.log(err)
                }
              })
            } else {
              // true fallback needed!
              console.log('navigator.share is undefined')
              shareButton.style.display = 'none'
            }
          })
        } else {
          console.log("No elements with '.share-button' class found!");
        }

        function findFirstChildByClass(element, className) {
          let foundElement = null,
            found;

          function recurse(element, className, found) {
            for (let i = 0; i < element.childNodes.length && !found; i++) {
              let el = element.childNodes[i];
              let classes = el.className != undefined ? el.className.split(" ") : [];
              for (let j = 0, jl = classes.length; j < jl; j++) {
                if (classes[j] == className) {
                  found = true;
                  foundElement = element.childNodes[i];
                  break;
                }
              }
              if (found)
                break;
              recurse(element.childNodes[i], className, found);
            }
          }
          recurse(element, className, false);
          return foundElement;
        }
      </script>
    </div>
    <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=611043f05011bffbc028a32d" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  </body>
</html>